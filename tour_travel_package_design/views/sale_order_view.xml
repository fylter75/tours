<odoo>
    
     <record id ="sale_order_line_tree_view_extend" model="ir.ui.view">
        <field name="name">sale.order.view.tree</field>
        <field name="model">sale.order.line</field>
        <field name ="inherit_id" ref="sale.view_order_line_tree"/>
        <field name="arch" type ="xml">
            <field name="order_id" position="after">
                <field name="guide_contact_id" string="Contact"/>
            </field>
        </field>
     </record>

    <record id ="sale_quotation_form_view_extend" model="ir.ui.view">
        <field name="name">sale.order.view.form.extend</field>
        <field name="model">sale.order</field>
        <field name ="inherit_id" ref="sale.view_order_form"/>
        <field name="arch" type ="xml">
            <xpath expr="//group[@name='sale_total']" position="attributes">
                <attribute name='attrs'>{'invisible':[('is_package','=',True)]}</attribute>
            </xpath>

            <xpath expr="//form/sheet/div[hasclass('oe_button_box')]" position="inside">
                <div class="oe_button_box" name="button_box" attrs="{'invisible':[('is_package','=',False)]}"
                invisible="not context.get('hide_sale')">
                    <button name="website_publish_button"
                                    class="oe_stat_button"
                                    type="object" icon="fa-globe">
                        <field name="website_published" widget="boolean_button"/>
                    </button>
                    <button name="action_view_quotation"
                    type="object"
                    class="oe_stat_button"
                    icon="fa-pencil-square-o"
                    attrs="{'invisible': [('so_count', '=', 0)]}">
                    <field name="so_count" widget="statinfo" string="Quotation"/>
                </button>
                </div>
            </xpath>
            <xpath expr="//form/sheet/notebook/page/group" position="before">
                <field name="group_cost_ids" >
                    <tree editable="bottom">
                        <field name="pax_no"/>
                        <field name="no_of_foc"/>
                        <field name="seat_capacity_id"/>
                        <field name="sngl_suppl"/>
                        <field name="foc_cost" invisible="1"/>
                        <field name="group_cost"/>
                        <field name="currency_id" invisible="1"/>
                        <field name="usd_group_cost" invisible="1"/>
                        <field name="secondary_currency_id" invisible="1"/>
                    </tree>
                </field>
                <group name="more_details">
                    <field name="show_details"/>
                </group>
                <group colspan="4" attrs="{'invisible':[('show_details','=',False)]}">
                    <group col="4" colspan="4">
                        <field name="include_price"/>
                        <field name="include_ticket_price"/>
                    </group>
                    <group string="Cost Price">
                        <field name="per_person" />
                        <field name="sgl_supp" />
                        <field name="per_person_tpl"/>
                        <field name="cwnb"/>
                    </group>
                    <group string="Selling Price">
                        <field name="usd_currency_id"/>
                        <field name="usd_per_person" />
                        <field name="usd_sgl_supp" />
                        <field name="usd_per_person_tpl"/>
                        <field name="usd_cwnb"/>
                    </group>
                </group>
                <group>
                    <label for="profit_price" string="Profit Price"/>
                    <div>
                        <field name="profit_price" class="oe_inline"/>
                        <div attrs="{'invisible':[('profit_price', '!=', 'fixed')]}">
                            <field name="fixed_price" nolabel= "1" class="oe_inline"/></div>
                        <div attrs="{'invisible':[('profit_price', '!=', 'percentage')]}">
                            <field name="percent_price" nolabel="1" class="oe_inline"/>%%
                        </div>
                    </div>

                </group>
            </xpath>
            <xpath expr="//form/sheet/div/h1/field[@name='name']" position="replace">
                 <field name="name" readonly="not context.get('hide_data')"/>
            </xpath>
            <xpath expr="//field[@name='partner_id']" position="attributes">
                <attribute name="required">not context.get('hide_data')</attribute>
            </xpath>
            <xpath expr="//field[@name='pricelist_id']" position="attributes">
                <attribute name="required">not context.get('hide_data')</attribute>
            </xpath>
            <xpath expr="//field[@name='currency_id']" position="attributes">
                <attribute name="required">not context.get('hide_data')</attribute>
            </xpath>
            <xpath expr="//field[@name='partner_invoice_id']" position="attributes">
                <attribute name="required">not context.get('hide_data')</attribute>
            </xpath>
            <xpath expr="//field[@name='partner_shipping_id']" position="attributes">
                <attribute name="required">not context.get('hide_data')</attribute>
            </xpath>
            <xpath expr="//form/sheet/div[hasclass('oe_title')]" position="after">
                <group>
                    <field name="is_package" invisible="not context.get('hide_sale')"/>
                </group>
            </xpath>

            <xpath expr="//form/header" position="replace">
                <header attrs="{'invisible':[('is_package','=',True)]}">
                        <button name="%(sale.action_view_sale_advance_payment_inv)d" string="Create Invoice"
                            type="action" class="btn-primary"
                            attrs="{'invisible': [('invoice_status', '!=', 'to invoice')]}"/>
                        <button name="%(sale.action_view_sale_advance_payment_inv)d" string="Create Invoice"
                            type="action" context="{'default_advance_payment_method': 'percentage'}"
                            attrs="{'invisible': ['|',('invoice_status', '!=', 'no'), ('state', '!=', 'sale')]}"/>
                        <button name="action_quotation_send" string="Send by Email" type="object" states="draft" class="btn-primary"/>
                        <button name="print_quotation" string="Print" type="object" states="draft" class="btn-primary"/>
                        <button name="action_confirm" states="sent" string="Confirm Sale" class="btn-primary o_sale_confirm" type="object" />
                        <button name="action_confirm" states="draft" string="Confirm Sale" class="o_sale_confirm" type="object" />
                        <button name="print_quotation" string="Print" type="object" states="sent,sale"/>
                        <button name="action_quotation_send" string="Send by Email" type="object" states="sent,sale"/>
                        <button name="action_cancel" states="draft,sent,sale" type="object" string="Cancel"/>
                        <button name="action_draft" states="cancel" type="object" string="Set to Quotation"/>
                        <button name="action_done" type="object" string="Lock" states="sale"
                            help="If the sale is locked, you can not modify it anymore. However, you will still be able to invoice or deliver."/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,sent,sale"/>
                 </header>
            </xpath>
            <field name="partner_id" position="after">
                <field name="pax_group" required="1"/>
                <field name="arrival_date" context="{'change_arrival':True}" options="{'disable_past_date' : True,'to_date':'return_date'}" required="1"/>
                <field name="return_date" context="{'change_return':True}" options="{'disable_past_date' : True,'from_date':'arrival_date'}" required="1"/>
                <field name="agent_id"/>
            </field>
            <xpath expr="//form/sheet/group/group/field[@name='payment_term_id']" position="after">
                <field name="client_order_ref"/>
                <field name="company_id" options="{'no_create': True}" groups="base.group_multi_company"/>
                <field name="analytic_account_id" context="{'default_partner_id':partner_invoice_id, 'default_name':name}" attrs="{'readonly': ['|',('analytic_account_id','!=',False),('invoice_count','!=',0),('state','=','sale')]}" groups="analytic.group_analytic_accounting"/>
            </xpath>

            <xpath expr="//form/sheet/notebook/page" position="attributes">
                <attribute name="string">Itinerary</attribute>
            </xpath>
        
             <xpath expr="//notebook/page/field[@name='order_line']" position='inside'>
                
                    <tree editable="bottom">
                        <field name="days"/>
                        <field name='day_date' invisible="1"/>
                        <field name="name"/>
                        <field name="product_uom_qty" invisible="1"/>
                        <field name="meals"/>
                        <field name="time"/>
                    </tree>
            </xpath> 

            <xpath expr="//form/sheet/notebook/page/field/tree/field[@name='name']" position="before">
                <field name="days" readonly="1"/>
                <field name='day_date' invisible="0"/>
                <field name="invoice_status" invisible="1"/>
               <field name="qty_to_invoice" invisible="1"/>
            </xpath>
            <xpath expr="//form/sheet/notebook/page/field/tree" position="attributes">
                <attribute name="create">false</attribute>
            </xpath>
             <xpath expr="//form/sheet/notebook/page/field/form/group/group/field[@name='product_id']" position="attributes">
                <attribute name="invisible">1</attribute>
             </xpath>
            <xpath expr="//form/sheet/notebook/page/field/tree/field[@name='product_id']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
             <xpath expr="//form/sheet/notebook/page/field/tree/field[@name='analytic_tag_ids']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//form/sheet/notebook/page/field/tree/field[@name='product_uom']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//form/sheet/notebook/page/field/tree/field[@name='product_uom_qty']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
           <!--  <xpath expr="//form/sheet/notebook/page/field/tree/field[@name='product_uom_qty']" position="attributes">
                <attribute name="default">True</attribute>
            </xpath> -->
            <xpath expr="//form/sheet/notebook/page/field/tree/field[@name='product_uom_qty']" position="after">
                <field name="line_type" invisible="1"/>
            </xpath>
            <!-- <xpath expr="//form/sheet/notebook/page/field/tree/field[@name='price_unit']" position="replace"> 
            </xpath>-->
            <!-- <xpath expr="//form/sheet/notebook/page/field/tree/field[@name='tax_id']" position="replace">
            </xpath> -->
            <xpath expr="//form/sheet/notebook/page/field/tree/field[@name='price_subtotal']" position="replace">
            </xpath>
            <xpath expr="//page[@name='other_information']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//form/sheet/notebook/page[2]" position='replace'>
            </xpath>
            <xpath expr="//form/sheet/notebook" position='inside'>
                <page name="hotel" string="Hotels">
                    <field name='hotel_ids' string="Hotels"
                        context="{'default_date':arrival_date,'default_sale_id':active_id,'default_product_uom_qty':pax_group}">
                        <tree editable="bottom" delete="true">
                            <field name="hotel_categ" domain="[('parent_id.name','=','Hotel')]"/>
                            <field name="hotel_id" domain="[('categ_id','=',hotel_categ)]"
                            context="{'hotel_onchange':True,'default_type':'service'}"/>
                            <field name="partner_id" context="{'default_supplier':True}" required="1" domain="[('supplier','=',True)]"/>
                            <!-- <field name="date" required="1"/> -->
                             <field name="from_date" options="{'no_create': True, 'no_open': True}" domain="[('sale_day_id','=',sale_id)]"/>
                             <field name="to_date" options="{'no_create': True, 'no_open': True}" domain="[('sale_day_id','=',sale_id)]"/>
                            <field name="season_id" string="available season" invisible="1"/>
                            <!-- <field name="room_selection" required="1"/> -->
                            <field name="room_accupacy_id"/>
                            <field name="room_type" required="1" context="{'room_type':True}"/>
                            <field name="product_uom_qty" required="1" string="Nights"/>
                            <field name="room_qty"/>
                            <field name="no_of_person"/>
                            <field name="price_unit" required="1"/>
                           <!--  <field name="extra_bed_price"/> -->
                            <field name="price_subtotal" required="1" sum="price_subtotal"/>
                            <field name="sale_id" invisible="1"/>
                            <button name="convert_to_rfq" type="object" string="Generate RFQ"/>
                        </tree>
                        <form>
                            <group col="4" colspan="4">
                                <field name="hotel_categ" domain="[('parent_id.name','=','Hotel')]"/>
                                <field name="hotel_id" domain="[('categ_id','=',hotel_categ)]"
                                context="{'hotel_onchange':True,'default_type':'service'}"/>
                                <field name="partner_id" context="{'default_supplier':True}" required="1" domain="[('supplier','=',True)]"/>
                                <!-- <field name="date" required="1"/> -->
                                 <field name="from_date" options="{'no_create': True, 'no_open': True}" domain="[('sale_day_id','=',sale_id)]"/>
                                 <field name="to_date" options="{'no_create': True, 'no_open': True}" domain="[('sale_day_id','=',sale_id)]"/>
                                <field name="season_id" string="ssn" invisible="1"/>
                                <!-- <field name="room_selection" required="1"/> -->
                                <field name="room_accupacy_id"/>
                                <field name="room_type" required="1"/>
                                <field name="product_uom_qty" required="1" string="Nights"/>
                                <field name="room_qty"/>
                                <field name="no_of_person"/>
                                <field name="price_unit" required="1"/>
                               <!--  <field name="extra_bed_price"/> -->
                                <field name="price_subtotal" required="1" sum="price_subtotal"/>
                                <field name="sale_id" invisible="1"/>
                            </group>
                            <footer>
                                <button name="convert_to_rfq" type="object" string="Generate RFQ"/>
                            </footer>
                        </form>
                    </field>
                </page>
                <page name="transaportation" string="Transportation">
                     <field name="transaportation_ids" context="{'default_line_type':'vehicle','default_transportation_date':arrival_date, 
                        'default_transport_order_id':active_id}">
                        <form string="Transportation">
                            <group col="4" colspan="4">
                                <field name="product_id" required="1"
                                        domain="['|',('categ_id.parent_id.name','=','Transportation'),
                                    ('categ_id.name','=','Transportation')]"
                                context="{'partner_id':parent.partner_id,'default_type':'service',
                                 'pricelist':parent.pricelist_id, 'vehicle':True,'default_type':'service',
                                 'company_id': parent.company_id}"
                               />
                               <field name="partner_id" context="{'default_supplier':True}" domain="[('supplier','=',True)]"/>
                                <field name="tag_ids" widget = 'many2many_tags' string="Remarks"/>
                            <field name="name"/>
                            <field name="transportation_day" options="{'no_create': True, 'no_open': True}" domain="[('sale_day_id','=', transport_order_id)]"/>
                            <field name="from_time" string="Duration"/>
                            <field name="price_unit" string="Price" />
                            <field name="state" invisible="1"/>
                            <field name="transport_order_id" invisible="1"/>
                            </group>
                        </form>
                        <tree editable="bottom" string="Transportation">
                            <field name="product_id" required="1"   domain="['|',('categ_id.parent_id.name','=','Transportation'),
                                    ('categ_id.name','=','Transportation')]"
                                context="{'partner_id':parent.partner_id,'default_type':'service', 'vehicle':True,'default_type':'service', 'pricelist':parent.pricelist_id,
                                'company_id': parent.company_id}"
                               />
                               <field name="partner_id" context="{'default_supplier':True}" domain="[('supplier','=',True)]"/>
                              <field name="tag_ids" widget = 'many2many_tags' string="Remarks"/>
                            <field name="name"/>
                            <field name="transportation_day" options="{'no_create': True,'no_open': True}" domain="[('sale_day_id','=',transport_order_id)]"/>
                            <field name="from_time"  string="Hours"/>
                            <field name="state" invisible="1"/>
                            <field name="price_unit" string="Price" sum="price_unit"/>
                            <field name="transport_order_id" invisible="1"/>
                            <field name="line_type" invisible="1"/>
                        </tree>
                     </field>
                 </page>
                 <page name="tickets" string="Tickets">
                     <field name="ticket_ids" context="{'default_line_type':'tickets','default_product_uom_qty':pax_group,
                        'default_ticket_order_id': active_id}">
                        <tree editable="bottom" string="Tickets">
                            <!-- <field name="ticket_id" required="1" options="{'no_create':True,'no_open':True'}"/> -->
                             <field name="product_id" required="1" domain="['|',('categ_id.name','=','Ticket'),
                                                                            ('categ_id.parent_id.name','=','Ticket')]"
                            context="{'partner_id':parent.partner_id,'default_type':'service','ticket':True, 'pricelist':parent.pricelist_id, 'company_id': parent.company_id}"
                           />
                            <field name="partner_id" context="{'default_supplier':True}" string="Supplier" domain="[('supplier','=',True)]"/>
                            <field name="name" required="1"/>
                            <field name="ticket_day" required="1" options="{'no_create': True,'no_open': True}" domain="[('sale_day_id','=',ticket_order_id)]"/>
                            <field name="product_uom_qty"
                            string="Qty"
                            context="{'partner_id':parent.partner_id, 'quantity':product_uom_qty, 'pricelist':parent.pricelist_id, 'company_id': parent.company_id}"
                            />
                            <field name="price_unit" string="Ticket price"/>
                            <field name="price_subtotal" widget="monetary" sum="price_subtotal"/>
                            <field name="ticket_order_id" invisible="1"/>
                            <field name="line_type" invisible="1"/>
                        </tree>
                        <form string="Tickets">
                            <group col="4" colspan="4">
                                <!-- <field name="ticket_id" required="1"  options="{'no_create':True,'no_open':True'}"/> -->
                                 <field name="product_id" required="1" domain="['|',('categ_id.name','=','Ticket'),('categ_id.parent_id.name','=','Ticket')]"
                                context="{'partner_id':parent.partner_id,'default_type':'service','ticket':True, 'pricelist':parent.pricelist_id, 'company_id': parent.company_id}"
                               />
                                <field name="partner_id" context="{'default_supplier':True}" string="Supplier" domain="[('supplier','=',True)]"/>
                                <field name="ticket_order_id" invisible="1"/>
                                <field name="name" required="1"/>
                                <field name="ticket_day" required="1" options="{'no_create': True, 'no_open': True}" domain="[('sale_day_id','=',ticket_order_id)]"/>
                               <field name="start_time" widget="float_time"/>
                                <field name="product_uom_qty"
                                string="Qty"
                                context="{'partner_id':parent.partner_id, 'quantity':product_uom_qty, 'pricelist':parent.pricelist_id, 'company_id': parent.company_id}"
                                />
                                <field name="price_unit" string="Ticket price"/>
                                <field name="price_subtotal" widget="monetary"/>
                            </group>
                        </form>
                     </field>
                </page>
                <page name="tours" string="Tours">
                     <field name="tour_ids" context="{'default_line_type':'tours','default_product_uom_qty':pax_group,
                        'default_tour_order_id': active_id}">
                        <tree editable="bottom" string="Tours">
                             <field name="product_id" required="1" domain="['|',('categ_id.name','=','Tour'),
                                                                            ('categ_id.parent_id.name','=','Tour')]"
                            context="{'tour':True,'partner_id':parent.partner_id,'default_type':'service', 'pricelist':parent.pricelist_id, 'company_id': parent.company_id}"
                           />
                            <field name="partner_id" context="{'default_supplier':True}" string="Supplier" domain="[('supplier','=',True)]"/>
                            <field name="name" required="1"/>
                            <field name="days_valid_ids" widget="many2many_tags"/>
                            <field name="ticket_day" required="1" options="{'no_create': True,'no_open': True}" domain="[('sale_day_id','=',tour_order_id)]"/>
                            <field name="product_uom_qty"
                            string="Qty"
                            context="{'partner_id':parent.partner_id, 'quantity':product_uom_qty, 'pricelist':parent.pricelist_id, 'company_id': parent.company_id}"
                            />
                            <field name="price_unit" string="Ticket price"/>
                            <field name="price_subtotal" widget="monetary" sum="price_subtotal"/>
                            <field name="tour_order_id" invisible="1"/>
                            <field name="line_type" invisible="1"/>
                        </tree>
                        <form string="Tours">
                            <group col="4" colspan="4">
                                 <field name="product_id" required="1" domain="['|',('categ_id.name','=','Tour'),('categ_id.parent_id.name','=','Tour')]"
                                context="{'partner_id':parent.partner_id,'default_type':'service', 'pricelist':parent.pricelist_id, 'company_id': parent.company_id}"
                               />
                                <field name="partner_id" context="{'default_supplier':True}" string="Supplier" domain="[('supplier','=',True)]"/>
                                <field name="tour_order_id" invisible="1"/>
                                <field name="name" required="1"/>
                                <field name="days_valid_ids" widget="many2many_tags"/>
                                <field name="ticket_day" required="1" options="{'no_create': True, 'no_open': True}" domain="[('sale_day_id','=',tour_order_id)]"/>
                                <field name="product_uom_qty"
                                string="Qty"
                                context="{'partner_id':parent.partner_id, 'quantity':product_uom_qty, 'pricelist':parent.pricelist_id, 'company_id': parent.company_id}"
                                />
                                <field name="price_unit" string="Ticket price"/>
                                <field name="price_subtotal" widget="monetary"/>
                            </group>
                        </form>
                     </field>
                </page>
                <page name="meal" string="Meals">
                     <field name="meal_ids" context="{'default_line_type':'meal','default_product_uom_qty':pax_group,
                        'default_meal_order_id': active_id}">
                        <tree editable="bottom" string="Meal">
                            <!-- <field name="meal_id" required="1" options="{'no_create':True,'no_open':True'}"/> -->
                            <field name="product_id" context="{'meal':True,'default_type':'service'}" required="1"
                            domain="['|',('categ_id.parent_id.name','=','Meals'),('categ_id.name','=','Meals')]"/>
                            <field name="partner_id" context="{'default_supplier':True}" domain="[('supplier','=',True)]"/>
                            <field name="restaurant_id"/>
                            <field name="name" required="1"/>
                            <field name="menu_type_ids" required="1" widget="many2many_tags" options="{'no_create': True,'no_open': True}" readonly="1" force_save="1"/>
                            <field name="days_valid_ids" widget="many2many_tags" options="{'no_create': True,'no_open': True}" readonly="1" force_save="1"/>
                            <field name="days_id" options="{'no_create': True,'no_open': True}" domain="[('sale_day_id','=',meal_order_id)]"/>
                            <field name="product_uom_qty"/>
                            <field name="price_unit" string="Price"/>
                            <field name="price_subtotal" widget="monetary" sum="price_subtotal"/>
                            <field name="meal_order_id" invisible="1"/>
                            <field name="line_type" invisible="1"/>
                        </tree>
                        <form string="Meal">
                            <group col="4" colspan="4">
                                <!-- <field name="meal_id" required="1" options="{'no_create':True,'no_open':True'}"/> -->
                                <field name="product_id" context="{'meal':True,'default_type':'service'}" required="1"
                                                    domain="['|',('categ_id.name','=','Meals'),('categ_id.parent_id.name','=','Meals')]"/>
                                <field name="partner_id" context="{'default_supplier':True}" domain="[('supplier','=',True)]"/>
                                <field name="name" required="1"/>
                                <field name="menu_type_ids" widget="many2many_tags"/>
                                <field name="days_valid_ids" widget="many2many_tags"/>
                                <field name="days_id" options="{'no_create': True, 'no_open': True}" domain="[('sale_day_id','=',meal_order_id)]"/>
                                <field name="product_uom_qty"/>
                                <field name="price_unit" string="Price"/>
                                <field name="meal_order_id" invisible="1"/>
                                <field name="price_subtotal" widget="monetary"/>
                            </group>
                        </form>

                     </field>
                </page>
                <page name="guides" string="Guides">
                    <field name="guide_ids" context="{'default_line_type':'guide',
                        'default_sale_order_id': active_id}">
                        <form string="Guides">
                            <group col="4" colspan="4">
                                <field name="product_id" required="1" context="{'guide':True,'default_type':'service'}"
                                                        domain="['|',('categ_id.name','=','Guides'),('categ_id.parent_id.name','=','Guides')]"/>
                                <field name="partner_id" context="{'default_supplier':True}" string="Supplier" domain="[('supplier','=',True)]"/>
                                <field name="name" required="1"/>
                                <field name="guide_contact_id" string="Contact"/>
                                <field name="product_uom_qty"
                                    string="Duration"
                                    context="{'partner_id':parent.partner_id, 'quantity':product_uom_qty, 'pricelist':parent.pricelist_id, 'company_id': parent.company_id}"
                                />
                                <field name="days_id" options="{'no_create': True,'no_open': True}" domain="[('sale_day_id','=',sale_order_id)]"/>
                                <field name="price_unit" string="Rate" />
                                <field name="state" invisible="1"/>
                                <field name="sale_order_id" invisible="1"/>
                            </group>
                        </form>
                        <tree editable="bottom">
                                <!-- <field name="guide_id" required="1" options="{'no_create':True,'no_open':True'}"/> -->
                                <field name="product_id" required="1" context="{'guide':True,'default_type':'service'}"
                                            domain="['|',('categ_id.parent_id.name','=','Guides'),('categ_id.name','=','Guides')]"/>
                                <field name="partner_id" context="{'default_supplier':True}" string="Supplier" domain="[('supplier','=',True)]"/>
                                <field name="name" required="1"/>
                                <field name="guide_contact_id"
                                string="Contact"/>
                                <field name="days_id" options="{'no_create': True}" domain="[('sale_day_id','=',sale_order_id)]"/>
                                <field name="price_unit" string="Rate" sum="price_unit"/>
                                <field name="state" invisible="1"/>
                                <field name="sale_order_id" invisible="1"/>
                                <field name="line_type" invisible="1"/>
                        </tree>
                    </field>
                </page>
                 <page name="ticketing" string="Ticketing">
                    <field name="ticketing_ids" context="{'default_line_type':'ticketing','default_product_uom_qty':pax_group}">
                        <tree editable="bottom" string="Ticketing">
                            <!-- <field name="ticketing_id" required="1" options="{'no_create':True,'no_open':True'}"/> -->
                            <field name="product_id" context="{'ticketing':True,'default_type':'service'}"
                                            required="1" domain="['|',('categ_id.name','=','Ticketing'),('categ_id.parent_id.name','=','Ticketing')]"/>
                            <field name="partner_id" context="{'default_supplier':True}" string="Supplier" required="1" domain="[('supplier','=',True)]"/>
                            <field name="passanger_id" required="1"/>
                            <field name="route_start_id" string="Source" required="1"/>
                            <field name="route_end_id" string="Destination" required="1"/>
                            <field name="airline_id" string="Airline" required="1"/>
                            <field name="ticket_type"/>
                            <field name="ticket_issue_date" required="1"/>
                            <field name="ticket_no" string="Ticket No" required="1"/>
                            <field name="gross_fare"/>
                            <field name="tax_id" widget="many2many_tags" domain="[('company_id','=',parent.company_id)]"
                                        />
                            <field name="price_unit" string="Price"/>
                            <field name="price_subtotal" widget="monetary" sum="price_subtotal"/>
                            <field name="line_type" invisible="1"/>
                        </tree>
                        <form string="Ticketing">
                            <group col="4" colspan="4">
                                <field name="product_id" context="{'ticketing':True,'default_type':'service'}"
                                                 required="1" domain="['|',('categ_id.name','=','Ticketing'),('categ_id.parent_id.name','=','Ticketing')]"/>
                                <field name="partner_id" context="{'default_supplier':True}" string="Supplier" required="1" domain="[('supplier','=',True)]"/>
                                <field name="route_start_id" string="Source" required="1"/>
                                <field name="route_end_id" string="Destination" required="1"/>
                                <field name="passanger_id" required="1"/>
                                <field name="airline_id" string="Airline" required="1"/>
                                <field name="ticket_type"/>
                                <field name="ticket_issue_date" required="1"/>
                                <field name="ticket_no" string="Ticket No" required="1"/>
                                <field name="gross_fare"/>
                                <field name="tax_id" widget="many2many_tags" domain="[('company_id','=',parent.company_id)]"
                                            />
                                <field name="price_unit" string="Price"/>
                                <field name="price_subtotal" widget="monetary"/>
                                <field name="line_type" invisible="1"/>
                            </group>
                        </form>
                    </field>
                 </page>
                 <page name="visa" string="Visa">
                    <field name="visa_ids" context="{'default_line_type':'visa'}">
                        <tree string="Visa" editable="bottom">
                            <!-- <field name="visa_id" required="1" options="{'no_create':True,'no_open':True'}"/> -->
                            <field name="product_id" context="{'visa':True,'default_type':'service'}"
                                             required="1" domain="['|',('categ_id.name','=','Visa'),('categ_id.parent_id.name','=','Visa')]"/>
                            <field name="partner_id" context="{'default_supplier':True}" required="1" domain="[('supplier','=',True)]"/>
                            <field name="name" required="1"/>
                            <field name="visa_status_id"/>
                            <field name="product_uom_qty"/>
                            <field name="price_unit" string="Price" sum="price_unit"/>
                            <field name="price_subtotal" widget="monetary" sum="price_subtotal"/>
                            <field name="line_type" invisible="1"/>
                            <field name="visa_order_id" invisible="1"/>
                        </tree>
                        <form>
                            <group col="4" colspan="4">
                                <field name="product_id" context="{'visa':True,'default_type':'service'}" required="1"
                                 domain="['|',('categ_id.name','=','Visa'),('categ_id.parent_id.name','=','Visa')]"/>
                                <field name="partner_id" context="{'default_supplier':True}" string="Supplier" required="1" domain="[('supplier','=',True)]"/>
                                <field name="name" required="1"/>
                                <field name="price_unit" string="Price"/>
                                <field name="visa_status_id"/>
                                <field name="line_type" invisible="1"/>
                                <field name="visa_order_id" invisible="1"/>
                            </group>
                        </form>
                    </field>
                 </page>
                 <page string="SO" invisible='1'>
                    <field name="so_ids" readonly='1'/>
                 </page>
                 <page name="passenger" string="Passenger">
                    <field name="passenger_ids" context="{'passenger':True}">
                        <tree editable="bottom">
                            <field name="sequence" widget="handle"/>
                            <field name="room"/>
                            <field name="number"/>
                            <field name="partner_id" string="Name" context="{'passenger':True}"
                                    domain="[('category_id.name','in',['Passenger','passanger']),('type','=','contact')]"/>
                            <field name="age"/>
                            <field name="gender"/>
                            <field name="country_id"/>
                            <field name="type"/>
                            <field name="hotel_id" invisible="1" domain="[('sale_id','=',parent.id)]"/>
                        </tree>
                        <form>
                            <group col="4" colspan="4">
                                <field name="sequence" widget="handle"/>
                                <field name="room"/>
                                <field name="number"/>
                                <field name="partner_id" string="Name" context="{'passenger':True}"
                                    domain="[('category_id.name','in',['Passenger','passanger']),('type','=','contact')]"/>
                                <field name="age"/>
                                <field name="gender"/>
                                <field name="country_id"/>
                                <field name="type"/>
                                <field name="hotel_id" invisible="1" domain="[('sale_id','=',parent.id)]"/>
                            </group>
                        </form>
                    </field>
                 </page>
                 <page string="Other Information">
                    <group>
                        <group string="Sales Information" name="sales_person">
                            <field name="user_id"/>
                            <field name="team_id" options="{'no_create': True}"/>
                            <field name="company_id" options="{'no_create': True}" groups="base.group_multi_company"/>
                        </group>
                        <group name="sale_pay" string="Invoicing">
                            <field name="fiscal_position_id" options="{'no_create': True}"/>
                            <field name="invoice_status"
                                attrs="{'invisible': [('state', 'not in', ('sale','done'))]}"/>
                        </group>
                        <group string="Reporting" name="technical" groups="base.group_no_one">
                            <field groups="base.group_no_one" name="origin"/>
                        </group>
                    </group>
                </page>
            </xpath>
        </field>
    </record>

    <!-- Form view of days valid -->
    <record id="form_view_days_valid" model="ir.ui.view">
        <field name="name">form.view.days.valid</field>
        <field name="model">days.valid</field>
        <field name="arch" type="xml">
            <form string="Days Valid">
                <sheet>
                    <group>
                        <field name="name" required="1" class="oe_inline"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>
    <!---->
    <!-- Tree view of days valid -->
    <record id="tree_view_days_valid" model="ir.ui.view">
        <field name="name">tree.view.days.valid</field>
        <field name="model">days.valid</field>
        <field name="arch" type="xml">
            <tree string="Days Valid">
                <field name="name"/>
            </tree>
        </field>
    </record>
    
    <!-- Action for days valid -->
    <record id="action_days_valid" model="ir.actions.act_window">
        <field name="name">Days Valid</field>
        <field name="res_model">days.valid</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
    </record>
    
    <!-- menu for days valid -->
    <menuitem 
        id="menu_days_valid" 
        parent="menu_sale_package_configuration"
        action="action_days_valid"/>
    
</odoo>