<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <template id="custom_external_layout_header">
            <t t-if="o and 'company_id' in o">
                <t t-set="company" t-value="o.company_id"></t>
            </t>
            <t t-if="not o or not 'company_id' in o">
                <t t-set="company" t-value="res_company"></t>
            </t>

            <t t-call="tour_travel_package_design.external_layout_header_custom" />
            <t t-raw="0" />
        </template>
        <template id="external_layout_header_custom">
            <div class="header">
                <div class="row">
                    <div class="col-xs-12">
                        <div class="col-xs-4">
                            <img t-if="company.logo" t-att-src="'data:image/png;base64,%s' % company.logo"
                               height="170px" width="170px"/>
                        </div>
                        <div class="col-xs-8"  style="margin-top: 50px;">
                            <span style="color:#049143;"><h2><b>Tourism</b></h2></span>
                        </div>
                    </div>
                </div>
            </div>
        </template>
    
        <template id="qweb_so_package_report">
            <t t-call="web.basic_layout">
                <t t-foreach="docs" t-as="o">
                   <t t-call="tour_travel_package_design.custom_external_layout_header">
                       <div class="page">
                        <template id="report_css" inherit_id="web.layout">
                                <xpath expr="//head" position="inside">
                                    <link rel="stylesheet" href="/tour_travel_package_design/static/src/css/style.css" />
                                </xpath>
                            </template>
                            <t t-if="o.is_package">
                                <div class="inv_name" style="color:#047b87;">
                                <h5>
                                    <b>
                                        <span>
                                             Package
                                            <span style="color:#047b87;" t-field="o.date_order" t-field-options='{"format": "d/M/y"}'/>
                                        </span>
                                    </b>
                                </h5>
                                </div>
                            </t>
                            <t t-if="o.state in ['draft','sent'] and not o.is_package">
                                <div class="inv_name" style="color:#047b87;">
                                    <h5>
                                        <b>
                                        <span>
                                             Quotation
                                            <span style="color:#047b87;" t-field="o.date_order" t-field-options='{"format": "d/M/y"}'/>
                                        </span>
                                    </b>
                                    </h5>
                                </div>
                            </t>
                            <t t-if="o.state not in ['draft','sent']">
                                <div class="inv_name" style="color:#047b87;">
                                    <h5>
                                        <b>
                                        <span>
                                             Order
                                            <span style="color:#047b87;" t-field="o.date_order" t-field-options='{"format": "d/M/y"}'/>
                                        </span>
                                    </b>
                                    </h5>
                                </div>
                            </t>
                            <br/>
                            <div class=" col-md-12" style="border:2px solid #f7ca7b; border-radius:10px!important;">
                            <table width="100%" class="col-md-12 mt8 mb8">
                                <tr style="color:#047b87;" height="22px">
                                    <td width="20%">
                                        To 
                                    </td>
                                    <td width="50%">
                                        <b><span t-field="o.partner_id.name"/></b>
                                    </td>
                                    <td width="30%">
                                    
                                    </td>
                                </tr>
                                <tr style="color:#047b87;" height="22px">
                                    <td>    
                                        Address
                                    </td>
                                    <td>
                                        P.O Box <span t-field="o.partner_id.zip"/>
                                    </td>
                                    <td width="30%">
                                    
                                    </td>
                                </tr>
                                <tr style="color:#047b87;" height="22px"> 
                                    <td> 
                                        Country
                                    </td>
                                    <td> <t t-if ="o.partner_id.state_id">
                                        <span t-field="o.partner_id.state_id.name"/>
                                        <span>,</span> 
                                        </t>
                                        <t t-if ="o.partner_id.country_id">
                                        <span t-field="o.partner_id.country_id.name"/>
                                        </t>
                                    </td>
                                    <td align="left">
                                        Tel <span><span t-field="o.partner_id.phone"/></span>
                                    </td>
                                </tr>
                            <tr>
                                <td colspan="3">
                                
                                </td>
                            </tr>
                            <tr height="22px">
                                <td colspan="3">
                                    <table width="100%">
                                        <tr style="color:#047b87;">
                                            <td align="left">
                                                Group Name:
                                            </td>
                                            <td align="right">
                                                Date : 
                                                <span t-field="o.date_order" t-field-options='{"format": "d MMMM y"}'/>
                                            </td>
                                        </tr> 
                                    </table>
                                </td>
                            </tr>
                            </table>
                            </div>
                           <br/>
                           <div class=" col-md-12" style="border:2px solid #f7ca7b; border-radius:10px!important;">
                           <table height="50px" 
                            width="100%" class="col-md-12 mt8 mb8">
                                 <tr style="color:#047b87;">
                                   <td>
                                      <b>Arrival Date</b>
                                   </td>
                                   <td>
                                       <b>Departure Date</b>
                                   </td>
                                   <td>
                                      <b>Nights</b>
                                   </td>
                                   <td>
                                       <b>SGL</b>
                                   </td>
                                   <td>
                                        <b>DBL</b>
                                   </td>
                                   <td>
                                        <b>TPL</b>
                                       
                                   </td>
                                   <td>
                                   <b>No of Pax</b>
                                   </td>
                                </tr>
                                <tr style="color:#0695a3;">
                                   <td>
                                      <span t-field="o.arrival_date"/>
                                   </td>
                                   <td>
                                       <span t-field="o.return_date"/>
                                   </td>
                                   <td>
                                      <span t-esc="nights(o.order_line)"/>
                                   </td>
                                   <td>
                                       
                                   </td>
                                   <td>
                                       
                                   </td>
                                   <td>
                                       
                                   </td>
                                   <td>
                                       <span t-field="o.pax_group"/>
                                   </td>
                                </tr>
                           </table>
                           </div>
                           <br/>
                           <table class="table table-bordered table-condensed" style="border:2px solid #f7ca7b;">
                               <tr style="color:#047b87;border-color:#f7ca7b;">
                                   <th  style="background-color: #fff1bc;border-left-color:
                                    #f7ca7b;border-right-color: #f7ca7b;border-top-color: #f7ca7b;
                                    border-bottom-color: #f7ca7b;text-align:center">
                                       Pax
                                   </th>
                                   <th  style="background-color:#fff1bc;border-left-color:
                                    #f7ca7b;border-right-color: #f7ca7b;border-top-color: #f7ca7b;
                                    border-bottom-color: #f7ca7b;text-align:center">
                                       Description
                                   </th>
                                   <th style="background-color:#fff1bc;border-left-color: #f7ca7b;
                                   border-right-color: #f7ca7b;border-top-color: #f7ca7b;
                                   border-bottom-color: #f7ca7b;text-align:center">
                                       Nights
                                   </th>
                                   <th  style="background-color:#fff1bc;border-left-color:
                                    #f7ca7b;border-right-color:#f7ca7b;border-top-color: #f7ca7b;
                                    border-bottom-color: #f7ca7b;text-align:center">
                                       Rate
                                   </th>
                                   <th style="background-color:#fff1bc;border-left-color: #f7ca7b;
                                   border-right-color: #f7ca7b;border-top-color: #f7ca7b;
                                   border-bottom-color: #f7ca7b;text-align:center">
                                       Total
                                   </th>
                               </tr>
                                <tr style="color:#0695a3;border-bottom:2px dotted #fceba9;"
                                 t-foreach="o.order_line" t-as="line">
                                    <td style="border-left-color:#f7ca7b;border-right-color:#f7ca7b;
                                    border-bottom-color: #f7ca7b;">
                                    </td>
                                   <td style="border-left-color:#f7ca7b;border-right-color:#f7ca7b;
                                    border-bottom-color: #f7ca7b;">
                                       <span t-field="line.name"/>
                                   </td>
                                    <td style="border-left-color:#f7ca7b;border-right-color:#f7ca7b;
                                    border-bottom-color: #f7ca7b;text-align:center">
                                        <span t-esc="int(line.product_uom_qty)"/>
                                   </td>
                                    <td style="border-left-color:#f7ca7b;border-right-color:#f7ca7b;
                                    border-bottom-color: #f7ca7b;text-align:center">
                                        <span t-field="line.price_unit"/>
                                   </td>
                                    <td style="border-left-color:#f7ca7b;border-right-color:#f7ca7b;
                                    border-bottom-color: #f7ca7b;text-align:center">
                                        <span t-field="line.price_subtotal"/>
                                   </td>
                               </tr>
                               <tr>
                                <td colspan="4" rowspan="6" style="border:2px solid #f7ca7b;">
                                    <table class="col-md-12" width="100%" style="color:#047b87;">
                                        <tr height="20px">
                                            <td style="font-size:18px">
                                                <b>Details</b>
                                            </td>
                                            <td>
                                            </td>
                                            <td align="right">
                                                Total
                                            </td>
                                        </tr>
                                        <tr height="20px">
                                            <td>
                                                Name
                                            </td>
                                            <td>
                                                <span t-field ="user.company_id.name"/>
                                                <span t-field ="user.state_id.name"/>
                                                <span t-field ="user.country_id.code"/>
                                            </td>
                                            <td align="right">
                                                <b>Deposits</b>
                                            </td>
                                        </tr>
                                        <tr height="20px">
                                            <td>
                                                Bank Details
                                            </td>
                                            <td>
                                                <span t-esc="data_get(o).get('bank_name')"/> ,
                                                <span t-esc="data_get(o).get('bank_addr')"/>
                                            </td>
                                        </tr>
                                        <tr height="20px">
                                            <td> 
                                                Account Number
                                            </td>
                                            <td>
                                                <span t-esc="data_get(o).get('acc_numner')"/> 
                                            </td>
                                        </tr>
                                        <tr height="20px">
                                            <td>
                                            
                                            </td>
                                            <td>
                                            
                                            </td>
                                            <td align="right">
                                                Net to be paid
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                                <td align="center" style="background-color: #fff1bc;border-bottom:2px dotted #f7ca7b;
                                border-left-color: #f7ca7b;border-right-color: #f7ca7b;">
                                    <b><span style="color:#047b87;" t-field="o.amount_untaxed"/></b> 
                                </td>
                              </tr>
                              <tr height="22px">
                                <td style="background-color: #fff1bc;border-bottom:2px dotted #f7ca7b;
                                border-left-color: #f7ca7b;border-right-color: #f7ca7b;"></td>
                              </tr>
                              <tr height="22px">
                                <td style="background-color: #fff1bc;border-bottom:2px dotted #f7ca7b;
                                border-left-color:#f7ca7b;border-right-color: #f7ca7b;"></td>
                              </tr>
                              <tr height="22px">
                                <td style="background-color: #fff1bc;border-bottom:2px dotted #f7ca7b;
                                border-left-color: #f7ca7b;border-right-color: #f7ca7b;"></td>
                              </tr>
                              <tr height="22px">
                                <td style="background-color: #fff1bc;border-bottom:2px dotted ##f7ca7b;
                                border-left-color: #f7ca7b;border-right-color: #f7ca7b;
                                border-bottom-color: #f7ca7b"></td>
                              </tr>
                           </table>
                           <table class="table-condensed" width="100%" 
                            style="border:2px solid #f7ca7b;">
                                <tr>
                                    <td class="col-md-12" align="left">
                                        <span style="color:#049143;"><h4><b>Tourism LLC</b></h4></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-12" style="color:#047b87;font-size:15px;">
                                        <span t-field="o.company_id.street"/>
                                        <span t-field="o.company_id.street2"/>
                                        <span t-field="o.company_id.city"/>
                                        <span t-field="o.company_id.state_id.name"/>
                                        <span t-field="o.company_id.country_id.name"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="mb16 col-md-12" style="color:#047b87;font-size:15px;">
                                        Tel : <span t-field="o.company_id.phone"/>
                                    </td>
                                </tr>
                           </table>
                       </div>
                   </t>
                </t>
            </t>
        </template>
    </data>
    
</odoo>
